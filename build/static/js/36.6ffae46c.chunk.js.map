{"version":3,"sources":["pages/login/login.js"],"names":["Login","useHistory","useState","username","setUsername","password","setPassword","onSubmit","a","axiosInstance","post","then","res","data","token","localStorage","setItem","JSON","stringify","message","success","window","location","href","warn","catch","err","console","log","className","name","value","onChange","e","target","onKeyDown","event","key","id","type","onClick"],"mappings":"wQAkGeA,UApFD,WAEMC,cAAhB,IAFe,EAGgBC,mBAAS,IAHzB,mBAGRC,EAHQ,KAGCC,EAHD,OAIiBF,mBAAS,IAJ1B,mBAIRG,EAJQ,KAIEC,EAJF,KAObC,EAAQ,uCAAC,sBAAAC,EAAA,sDAEbC,IAAcC,KAAK,eAAe,CAEpCP,SAASA,EACTE,SAAUA,IAENM,MAAK,SAACC,GAGLA,EAAIC,KAAKC,OACNC,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUN,EAAIC,OACxDM,IAAQC,QAAQ,gBACfC,OAAOC,SAASC,KAAK,WAEtBJ,IAAQK,KAAKZ,EAAIC,KAAKM,YAI3BM,OAAM,SAACC,GACNC,QAAQC,IAAIF,MApBD,2CAAD,qDAiCd,OACI,qBAAMG,UAAU,aAAhB,SACA,qBAAKA,UAAU,SAAf,SACA,sBAAKA,UAAU,cAAf,UACE,oBAAIA,UAAU,gBAAd,0BAMA,iDACA,cAAC,IAAD,CAEEC,KAAK,QACLC,MAAO5B,EAAU6B,SAAU,SAACC,GAAD,OAAK7B,EAAY6B,EAAEC,OAAOH,UAEvD,6CACA,cAAC,IAAD,CACEI,UAzBc,SAACC,GACH,UAAdA,EAAMC,KACR9B,KAwBI+B,GAAG,UACHC,KAAK,WAAWT,KAAK,WACrBC,MAAO1B,EAAU2B,SAAU,SAACC,GAAD,OAAK3B,EAAY2B,EAAEC,OAAOH,UAEvD,cAAC,IAAD,CAASF,UAAU,SAASW,QAAS,kBAAIjC,KAAzC","file":"static/js/36.6ffae46c.chunk.js","sourcesContent":["import {useState,useEffect} from 'react';\r\nimport {BASE_URL,axiosInstance} from '../../utils/axiosIntance'\r\nimport { message,Input } from 'antd';\r\nimport {token} from '../../utils/token'\r\nimport {Redirect,useHistory} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\n  import { Button } from \"antd\";\r\n\r\nimport { Select } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport \"./login.css\";\r\nimport { async } from 'q';\r\n\r\nconst Login = () =>{\r\n\r\n    const history = useHistory()\r\n    const [username,setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n\r\nconst onSubmit=async()=>{\r\n  \r\n  axiosInstance.post(\"/admin/login\",{\r\n \r\nusername:username,\r\npassword: password,\r\n     \r\n} ).then((res)=>{\r\n \r\n \r\n  if(res.data.token){\r\n        localStorage.setItem(\"AdminProfile\", JSON.stringify(res.data))\r\n        message.success(\"Successfully\")\r\n         window.location.href=\"/orders\";\r\n    }else{\r\n        message.warn(res.data.message)\r\n    }\r\n    \r\n\r\n}).catch((err)=>{\r\n    console.log(err);\r\n    \r\n})\r\n\r\n}\r\n\r\nconst handleKeyDown = (event) => {\r\n  if (event.key === 'Enter') {\r\n    onSubmit()\r\n  }\r\n}\r\n\r\n\r\nreturn(\r\n    <div  className=\"login-page\" >\r\n    <div className=\"login \" >\r\n    <div className=\"login--form\">\r\n      <h2 className=\"login--header\">Içeri Gir</h2>\r\n      {/* <Input      type='text' \r\n                          element='input'  \r\n                          label=\"Ady\" \r\n                          validators={[VALIDATOR_REQUIRE()]}  \r\n                          errorText='Adyňyzy Giriziň!' /> */}\r\n      <label >Ulanyjy Ady:</label>\r\n      <Input\r\n        // onKeyDown={handleKeyDown}\r\n        name=\"login\"\r\n        value={username} onChange={(e)=>setUsername(e.target.value)}\r\n      />\r\n      <label >Password</label>\r\n      <Input\r\n        onKeyDown={handleKeyDown}\r\n        id=\"myInput\"\r\n        type=\"password\" name=\"password\"\r\n        value={password} onChange={(e)=>setPassword(e.target.value)}\r\n      />\r\n      <Button  className=\"Button\" onClick={()=>onSubmit()}  >Içeri Gir</Button>\r\n    </div> \r\n  </div>\r\n  </div>\r\n\r\n    // <div>\r\n    //     Login page\r\n        \r\n    //     <input type=\"text\" value={username} onChange={(e)=>setUsername(e.target.value)} placeholder=\"login\"/>\r\n    //     <input type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)} placeholder=\"password\" />\r\n    //     <button onClick={()=>onSubmit()}>Login</button>\r\n\r\n    //     {token()}\r\n    // </div>\r\n)\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default Login;"],"sourceRoot":""}